<!DOCTYPE html>
<html>
    <body>
        <script>
            var choices = ['rock', 'paper', 'scissors'];
            let playerSelection;
            let computerSelection;
           
            
            function computerPlay(){
                return choices[Math.floor(Math.random()*choices.length)];
            }
    
            
            function playRound(playerSelection, computerSelection){
                playerSelection = playerSelection.toLowerCase();
                
                if (playerSelection === computerSelection){
                    console.log(`You both chose ${computerSelection} it's a tie`);
                    return 0;
                    
                } else if (playerSelection === 'rock'){
                        if (computerSelection === 'scissors'){
                            console.log(`You win! ${playerSelection} beats ${computerSelection}`);
                            return 1;
                        } else{
                            console.log(`You lose! ${computerSelection} beats ${playerSelection}`);
                            return -1;
                        }
                } else if (playerSelection === 'scissors'){
                    if (computerSelection === 'paper'){
                        console.log(`You win! ${playerSelection} beats ${computerSelection}`);
                        return 1;
                    } else{
                        console.log(`You lose! ${computerSelection} beats ${playerSelection}`);
                        return -1;
                    }
                } else if (playerSelection === 'paper'){
                    if (computerSelection === 'rock'){
                        console.log(`You win! ${playerSelection} beats ${computerSelection}`);
                        return 1;
                    } else{
                        console.log(`You lose! ${computerSelection} beats ${playerSelection}`);
                        return -1;
                    }
                } else {
                    alert('that was\'t a valid response') ;
                    return -2;
                }
                
            };
            
            function game(){
                
                let computerScore = 0;
                let playerScore = 0;
                
                console.log(`Playing 5 rounds of Rock, Paper, Scissors`);
                
                for (let i=0; i<5; i += 1){
                    let roundScore = playRound(prompt('Pick Rock, Paper, or Scissors'), computerPlay());
                    
                    switch (roundScore) {
                    case -2:
                        console.log('try again');
                        i -= 1;
                        break;
                    case -1:
                        console.log('computer earned a point');
                        computerScore += 1;
                        break;
                    case 1:
                        console.log('you earned a point');
                        playerScore += 1;
                        break;
                    default:
                        break;
                    }
                }
                
                
                console.log('Game concluded!')
                console.log(`Scores: Computer: ${computerScore}, Player: ${playerScore}.`)
            }
            
            game();
            //console.log(playerSelection);
            //console.log(computerSelection);
            //console.log(playRound(playerSelection, computerSelection));
            
        </script>
    </body>
</html>